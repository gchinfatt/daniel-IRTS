@using System.Activities.Statements
@model DanielIncidentReporting.Models.ApplicationUser
@{
    ViewBag.Title = "Manage Users";
}

<h2>@ViewBag.Title</h2>

<div>
    <!-- Delete User -->
    @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "deleteUser" }))
    {
        @Html.AntiForgeryToken()
        <div>

            <hr />

            <div>
                <h4>Delete User</h4>
                <br />
                <table>
                    <tr>
                        <td>
                            @Html.LabelFor(model => model.Email, htmlAttributes: new { @class = "tiny-label" })
                        </td>
                        <td>
                            @Html.DropDownList("userId", (SelectList)ViewBag.users, new { @class = "medium-textinput" })
                            @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td class="spacer-height2" colspan="2"></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>
                            <input type="button" value="Delete User" class="btn btn-default" onClick="confirmation()" />
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    }
</div>


<script>
    function confirmation() {
        var r = confirm("Are you sure you want to delete the selected user?");

        if (r) {
            document.getElementById("deleteUser").submit();
        }
    }
</script>
